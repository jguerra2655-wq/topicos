CREATE TABLE IF NOT EXISTS log (
    id INT(11) NOT NULL AUTO_INCREMENT,
    login VARCHAR(100) NOT NULL,
    ip VARCHAR(15) NOT NULL,
    user_agent TEXT,
    referer TEXT,
    date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    page VARCHAR(255),
    PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 4. Tabla de blog (para ejercicios de XSS almacenado)
CREATE TABLE IF NOT EXISTS blog (
    id INT(11) NOT NULL AUTO_INCREMENT,
    owner VARCHAR(100) NOT NULL,
    date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    entry TEXT NOT NULL,
    title VARCHAR(200) NOT NULL,
    PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 5. Tabla de comentarios
CREATE TABLE IF NOT EXISTS comments (
    id INT(11) NOT NULL AUTO_INCREMENT,
    blog_id INT(11) NOT NULL,
    date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    comment TEXT NOT NULL,
    author VARCHAR(100) NOT NULL,
    PRIMARY KEY (id),
    KEY blog_id (blog_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 6. Tabla de heroes (para algunos ejercicios)
CREATE TABLE IF NOT EXISTS heroes (
    id INT(11) NOT NULL AUTO_INCREMENT,
    login VARCHAR(100) NOT NULL,
    password VARCHAR(100) NOT NULL,
    PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 7. Tabla de movies (para ejercicios de SQLi)
CREATE TABLE IF NOT EXISTS movies (
    id INT(11) NOT NULL AUTO_INCREMENT,
    title VARCHAR(300) NOT NULL,
    release_year INT(4),
    genre VARCHAR(100),
    main_character VARCHAR(200),
    imdb DECIMAL(2,1),
    PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;